(window.webpackJsonp=window.webpackJsonp||[]).push([[1],[function(e,n){e.exports="<li class='video-list-item'>\n  <img></img>\n  <p></p>\n</li>"},function(e,n){e.exports='<div class="favorite-animation-container">\n</div>'},function(e,n,t){"use strict";function i(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}t.r(n),t(4);var o=function(){function e(n){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.player,this.props=n,this._setup(),this._bindEvent(),this._firstFullscreen=!0}var n,t;return n=e,(t=[{key:"loadByUrl",value:function(e){this.player&&this.player.loadByUrl(e)}},{key:"dispose",value:function(){this.player&&(this.player.dispose(),Zepto("#"+this.props.id).empty())}},{key:"_setup",value:function(){this.player=new Aliplayer(this.props)}},{key:"_bindEvent",value:function(){var e=this;this.player.on("ready",function(e){}),this.player.on("play",function(e){}),this.player.on("ended",function(e){}),this.player.on("pause",function(e){}),this.player.tag.addEventListener("x5videoexitfullscreen",function(){if(WeixinJSBridge)WeixinJSBridge.call("closeWindow");else try{window.location.refresh()}catch(e){}}),$(document).on("WeixinJSBridgeReady",function(){$(e.player.el()).find("video")[0].play()})}},{key:"_unbindEvent",value:function(){var e=this;this.player.off("ready",function(n){$.os.ios&&e._autoPlay()}),this.player.off("play",function(e){}),this.player.off("ended",function(e){}),this.player.off("pause",function(e){})}}])&&i(n.prototype,t),e}();function a(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r=t(0);t(8);var s=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e)}var n,t;return n=e,t=[{key:"setup",value:function(e,n,t){var i=$("#"+e);n.forEach(function(e,n){var t=$(r),o=t.find("img");o.attr("src",e.cover),o.attr("url",e.url),t.find("p").text(e.title),i.append(t)}),i.click(function(e){var n=$(e.target).attr("url");n&&t.loadByUrl(n)})}}],null&&a(n.prototype,null),t&&a(n,t),e}();function c(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var l=function(){function e(n){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.createEl(n),this._setupComment(),this.maxTopRow=null,this.colorIndex=1}var n,t;return n=e,(t=[{key:"createEl",value:function(e){this.comments=e,this.container=this.comments.find(".comment-container")}},{key:"clear",value:function(){this.comments.empty()}},{key:"isFull",value:function(){return 0==this.comments.find(".empty-comment-row").length}},{key:"send",value:function(e){var n,t=this.comments.children(".comment-row");e&&(n=0<t.length?$(t[0]):this._createEmptyRow(),this._assignValues(n,e),this._move(n))}},{key:"_move",value:function(e){e.show();var n=this.comments.height(),t=this.container.height();e.height(),this.container.append(e);var i=this.container.children().first();t-n>i.height()&&(this._removeClass(i.find(".comment-right")),i.hide(),this.comments.append(i))}},{key:"_assignValues",value:function(e,n){e.find(".comment-left").text(n.name);var t=e.find(".comment-right");t.html(n.comment),t.addClass(this._getClass())}},{key:"_createEmptyRow",value:function(){var e=$('<div class="comment-row"><span class="comment-left"></span><span class="comment-right"></div>');return e.hide(),this.comments.append(e),e}},{key:"_setupComment",value:function(){for(var e=0;e<20;e++)this._createEmptyRow()}},{key:"_getClass",value:function(e){4<this.colorIndex&&(this.colorIndex=1);var n="comment-color"+this.colorIndex;return this.colorIndex++,n}},{key:"_removeClass",value:function(e){e.removeClass("comment-color1"),e.removeClass("comment-color2"),e.removeClass("comment-color3"),e.removeClass("comment-color4")}}])&&c(n.prototype,t),e}();function u(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var f={Comments_Sended:"commentSended",Favoriation_Sended:"FavoriationSended"},m=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e)}var n,t;return n=e,t=[{key:"on",value:function(e,n){$(document).on(e,n)}},{key:"trigger",value:function(e,n){$(document).trigger(e,n)}},{key:"off",value:function(e,n){$(document).off(e,n)}},{key:"EventConstant",get:function(){return f}}],null&&u(n.prototype,null),t&&u(n,t),e}();function v(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}t(10);var h=function(){function e(n,t){var i=this;!function(n,t){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.comments=[],this._wrapper=n,this.liveComment=new l(n,t),m.on(m.EventConstant.Comments_Sended,function(e,n){i.add(n)})}var n,t;return n=e,(t=[{key:"clear",value:function(){this.stop(),this.liveComment.clear()}},{key:"add",value:function(e){this.isStop||(this.comments.push(e),this.isWorking||this._wake())}},{key:"stop",value:function(){this.comments=[],this.isWorking=!1,this.isStop=!0,clearInterval(this.interval)}},{key:"start",value:function(){this.isStop=!1}},{key:"_wake",value:function(){this.isWorking=!0,this.interval=setInterval(this._handle(),500)}},{key:"_handle",value:function(){var e=this;return function(){if(0<e.comments.length){e.liveComment.isFull()&&e.liveComment.send("");var n=e.comments.shift();e.liveComment.send(n),e._wrapper.scrollTop(e._wrapper[0].scrollHeight)}else e.isWorking=!1,clearInterval(e.interval)}}}])&&v(n.prototype,t),e}();function p(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var d=function(){function e(){!function(n,t){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this)}var n,t;return n=e,t=[{key:"prefixedEvent",value:function(n,t,i){for(var o=["webkit","moz","MS","o",""],a=0;a<o.length;a++)o[a]||(t=t.toLowerCase()),e.addEvent(n,o[a]+t,i)}},{key:"addEvent",value:function(e,n,t){e.addEventListener&&e.addEventListener(n,t,!1),e.attachEvent&&e.attachEvent("on"+n,t)}},{key:"screenHeight",value:function(){return document.documentElement.clientHeight||document.body.clientHeight||window.screen.height||window.innerHeight}}],null&&p(n.prototype,null),t&&p(n,t),e}();function y(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}t(12);var g=t(1),w=function(){function e(n){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:["xin.png","xin.png","xin.png","xin.png","xin.png","xin.png"];!function(n,t){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.animateContainer=$(g),n.append(this.animateContainer),this.imgNames=t,this.index=0;var i=this;m.on(m.EventConstant.Favoriation_Sended,function(){i.favoriate()})}var n,t;return n=e,(t=[{key:"favoriate",value:function(){var e=this.imgNames.length;this.index=this.index<e?this.index:0,name=this.imgNames[this.index];var n=$('<img src="./images/'.concat(name,'" class="favorite-animation">'));this.animateContainer.append(n),this.index++,d.prefixedEvent(n[0],"animationend",function(){n.remove()})}}])&&y(n.prototype,t),e}();function b(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}t(14);var k=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e)}var n,t;return n=e,t=[{key:"setup",value:function(){$(".comment-textbox .send-btn").click(function(){var e=$(".comment-textbox .send-txt"),n=e.val();m.trigger(m.EventConstant.Comments_Sended,{name:"小鱼儿",comment:n}),e.val("")}),$(".comment-textbox .favoriate-send").click(function(){m.trigger(m.EventConstant.Favoriation_Sended)})}}],null&&b(n.prototype,null),t&&b(n,t),e}();t(16),$(function(){var e=new o({id:"J_prismPlayer",autoplay:!0,isLive:!1,playsinline:!0,controlBarVisibility:"hover",source:"//player.alicdn.com/resource/player/qupai.mp4",useH5Prism:!0,useFlashPrism:!1,x5_video_position:"normal",x5_type:"h5",cover:"http://liveroom-img.oss-cn-qingdao.aliyuncs.com/logo.png"});s.setup("videolist",[{url:"https://player.alicdn.com/resource/player/qupai.mp4",cover:"images/cover1.png",title:"分享精彩生活"},{url:"http://player.alicdn.com/video/1.mp4",cover:"images/cover2.png",title:"多力多滋"},{url:"http://player.alicdn.com/video/11.mp4",cover:"images/cover3.png",title:"马云讲新零售"}],e),k.setup();var n,t,i=$(".comment-list");new h(i),new w(i),$(".comment-textbox").show(),n=$(".ui-tab .ui-tab-nav").offset(),t=d.screenHeight()-n.top-n.height-$(".comment-textbox").height(),$(".ui-tab-content").height(t),$(".comment-list .comment-container").css("max-height",t)})},function(e,n,t){e.exports=t(2)},function(e,n){},,,,function(e,n){},,function(e,n){},,function(e,n){},,function(e,n){},,function(e,n){}]]);